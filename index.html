<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Nayeli ğŸ’›</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#2a1a00,#000);
  font-family:Arial,sans-serif;
  overflow:hidden;
}

.card{
  background:rgba(30,30,30,.95);
  width:90%;
  max-width:520px;
  padding:25px;
  border-radius:20px;
  text-align:center;
  color:#fff;
  z-index:2;
}

h1{color:#f8b500}

button{
  margin-top:15px;
  padding:12px 22px;
  border:none;
  border-radius:25px;
  background:#f8b500;
  color:white;
  font-size:1rem;
}

#sorpresa,#pregunta,#btnMusica{display:none}

.amor{
  position:fixed;
  bottom:-10%;
  animation:subir 6s linear forwards;
}
@keyframes subir{
  to{transform:translateY(-120vh);opacity:0;}
}
</style>
</head>

<body>

<audio id="inicio" loop>
  <source src="mi_corazon_encantado.mp3">
</audio>

<audio id="final">
  <source src="pensando_en_ti.mp3">
</audio>

<div class="card">
  <h1>ğŸ’› Para Nayeli ğŸ’›</h1>

  <div id="texto"></div>

  <button onclick="iniciar()">â–¶ Leer mensaje</button>

  <div id="sorpresa">
    <h2>ğŸ SORPRESA ğŸ</h2>
    <h3 id="conteo"></h3>
  </div>

  <div id="pregunta">
    <h2>Â¿Quieres ser mi novia? ğŸ’</h2>
    <button onclick="aceptar()">ğŸ’› SÃ­ ğŸ’›</button>
  </div>

  <button id="btnMusica" onclick="reproducirFinal()">
    ğŸ¶ Te la dedico mi amorcito
  </button>
</div>

<script>
const mensaje=[
"Me encariÃ±Ã© contigo sin darme cuenta,",
"llegaste cuando me sentÃ­a vacÃ­o,",
"y me hiciste sentir importante.",
"Desde entoncesâ€¦ te amo Nayeli ğŸ’›"
];

let l=0,c=0;

function iniciar(){
 document.getElementById("inicio").play();
 escribir();
}

function escribir(){
 if(l<mensaje.length){
  if(c<mensaje[l].length){
   texto.innerHTML+=mensaje[l][c++];
   setTimeout(escribir,60);
  }else{
   texto.innerHTML+="<br>";
   l++;c=0;
   setTimeout(escribir,400);
  }
 }else{
  setTimeout(mostrarSorpresa,2000);
 }
}

function mostrarSorpresa(){
 document.getElementById("sorpresa").style.display="block";
 let t=20;
 const ctn=document.getElementById("conteo");
 const intervalo=setInterval(()=>{
  ctn.innerText=t;
  t--;
  if(t<0){
   clearInterval(intervalo);
   document.getElementById("sorpresa").style.display="none";
   document.getElementById("pregunta").style.display="block";
  }
 },1000);
}

function aceptar(){
 document.getElementById("pregunta").style.display="none";
 document.getElementById("btnMusica").style.display="block";
 lluvia();
}

function reproducirFinal(){
 const i=document.getElementById("inicio");
 const f=document.getElementById("final");
 i.pause(); i.currentTime=0;
 f.play();
}

function lluvia(){
 setInterval(()=>{
  const d=document.createElement("div");
  d.className="amor";
  d.innerText=["ğŸ’›","â¤ï¸","Te amo","Te amo Nayeli"][Math.floor(Math.random()*4)];
  d.style.left=Math.random()*100+"vw";
  document.body.appendChild(d);
  setTimeout(()=>d.remove(),6000);
 },400);
}
</script>

</body>
</html>
