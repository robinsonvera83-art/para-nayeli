<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Mi Nayeli ğŸ’›</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#ffe29f,#facc15);
  font-family:Arial,sans-serif;
  overflow:hidden;
}

.card{
  background:white;
  padding:25px;
  border-radius:20px;
  width:85%;
  max-width:420px;
  text-align:center;
  box-shadow:0 15px 35px rgba(0,0,0,.2);
  z-index:2;
}

h1{ color:#f59e0b; }

#texto{
  font-size:15px;
  color:#444;
  white-space:pre-line;
  margin-top:15px;
}

.pregunta{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:10;
}

.pregunta-card{
  background:white;
  padding:30px;
  border-radius:20px;
  text-align:center;
  width:80%;
  max-width:300px;
}

button{
  padding:12px 25px;
  border:none;
  border-radius:25px;
  background:#facc15;
  font-size:18px;
  cursor:pointer;
}

.btn-si{
  animation:latido 1.5s infinite;
}

@keyframes latido{
  0%{transform:scale(1)}
  50%{transform:scale(1.15)}
  100%{transform:scale(1)}
}

#contador{
  font-size:55px;
  animation:temblar .25s infinite;
}

@keyframes temblar{
  0%{transform:translate(0)}
  25%{transform:translate(-4px,4px)}
  50%{transform:translate(4px,-4px)}
  75%{transform:translate(-4px,-4px)}
  100%{transform:translate(0)}
}

.corazon{
  position:fixed;
  bottom:-20px;
  font-size:22px;
  animation:subir 4s linear forwards;
}

@keyframes subir{
  to{transform:translateY(-110vh);opacity:0}
}

.fuego{
  position:fixed;
  width:8px;
  height:8px;
  background:red;
  border-radius:50%;
  animation:explosion 1s forwards;
}

@keyframes explosion{
  to{
    transform:translate(var(--x),var(--y));
    opacity:0;
  }
}

.final{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  background:linear-gradient(135deg,#ffe29f,#facc15);
  color:white;
  font-size:1.6rem;
  font-weight:bold;
  padding:20px;
  z-index:20;
}
</style>
</head>

<body>

<audio id="musica" src="mi_corazon_encantado.mp3"></audio>

<div class="card" id="card">
  <h1>ğŸ’› Para Nayeli ğŸ’›</h1>
  <img src="michi.png" width="90"><br>
  <div id="texto"></div>
</div>

<script>
const texto=document.getElementById("texto");
const musica=document.getElementById("musica");
const mensaje=`Me encariÃ±Ã© tan rÃ¡pido contigo porque fuiste la Ãºnica persona
que me hizo sentir que yo valÃ­a algo,
despuÃ©s de tanto tiempo sintiÃ©ndome como nada.

Llegaste cuando mÃ¡s perdido estaba
y me devolviste la sonrisa y las ganas de creer en mÃ­.

Por eso te llevo en el corazÃ³n.
TE AMO CON TODO MI SER ğŸ’–

Gracias por existir.`;

let i=0;

document.body.addEventListener("click",()=>{
  musica.play();
  escribir();
},{once:true});

function escribir(){
  if(i<mensaje.length){
    texto.innerHTML+=mensaje[i++];
    setTimeout(escribir,40);
  }else{
    setTimeout(conteo,2000);
  }
}

function conteo(){
  let s=10;
  const o=document.createElement("div");
  o.className="pregunta";
  o.innerHTML=`
    <div class="pregunta-card">
      <h2 id="contador">ğŸ’› ${s}</h2>
      <p>PrepÃ¡rate...</p>
    </div>`;
  document.body.appendChild(o);

  const c=o.querySelector("#contador");
  const t=setInterval(()=>{
    s--;
    c.innerHTML="ğŸ’› "+s;
    if(s<=0){
      clearInterval(t);
      o.remove();
      preguntar();
    }
  },1000);
}

function preguntar(){
  const o=document.createElement("div");
  o.className="pregunta";
  o.innerHTML=`
    <div class="pregunta-card">
      <h2>ğŸ’ Â¿Quieres ser mi novia?</h2>
      <button class="btn-si" onclick="aceptar()">SÃ­ ğŸ’–</button>
    </div>`;
  document.body.appendChild(o);
}

function aceptar(){
  document.body.innerHTML="";
  lanzarFuegos();
  document.body.innerHTML+=`
  <div class="final">
    Te amo mi niÃ±a linda ğŸ’›<br><br>
    Gracias a ti mis dÃ­as se han vuelto muy alegres.<br>
    Todo esto es por ti y para ti.<br><br>
    <span style="font-size:1.2rem;">Siempre contigo ğŸ’–</span>
  </div>`;
  setInterval(corazon,300);
}

function corazon(){
  const c=document.createElement("div");
  c.className="corazon";
  c.innerHTML="ğŸ’–";
  c.style.left=Math.random()*100+"vw";
  c.style.fontSize=15+Math.random()*25+"px";
  document.body.appendChild(c);
  setTimeout(()=>c.remove(),4000);
}

function lanzarFuegos(){
  for(let i=0;i<40;i++){
    const f=document.createElement("div");
    f.className="fuego";
    f.style.left="50%";
    f.style.top="50%";
    f.style.setProperty("--x",(Math.random()*400-200)+"px");
    f.style.setProperty("--y",(Math.random()*400-200)+"px");
    f.style.background=`hsl(${Math.random()*360},100%,50%)`;
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
}
</script>

</body>
</html>
