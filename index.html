<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Nayeli ğŸ’›</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#fceabb,#f8b500);
  font-family:Arial,sans-serif;
  overflow:hidden;
  transition:background 2s;
}

body.final{
  background:linear-gradient(135deg,#3a2c00,#000);
}

/* â­ estrellas */
.estrella{
  position:absolute;
  color:#fff;
  animation:caer 6s linear infinite;
}
@keyframes caer{
  from{transform:translateY(-10vh);}
  to{transform:translateY(110vh);opacity:0;}
}

/* ğŸ’Œ tarjeta */
.card{
  background:rgba(255,255,255,.95);
  width:90%;
  max-width:520px;
  max-height:85vh;
  padding:25px 20px;
  border-radius:20px;
  box-shadow:0 20px 40px rgba(0,0,0,.15);
  text-align:center;
  z-index:2;
  overflow-y:auto;
}

h1{
  color:#f8b500;
  margin:10px 0;
}

.corazon{
  font-size:1.8rem;
  animation:latir 1.5s infinite;
}
@keyframes latir{
  50%{transform:scale(1.15);}
}

.michi{
  width:150px;
  margin:15px auto;
  display:block;
}

#texto{
  color:#444;
  line-height:1.6;
}

button{
  margin-top:15px;
  padding:12px 22px;
  border:none;
  border-radius:25px;
  background:#f8b500;
  color:white;
  font-size:1rem;
  cursor:pointer;
}

/* ğŸ’ pregunta */
#pregunta{
  display:none;
  margin-top:20px;
}

.firma{
  margin-top:25px;
  font-weight:bold;
  color:#f8b500;
  opacity:0;
  transition:opacity 1s;
}

/* ğŸ’› lluvia amor */
.amor{
  position:fixed;
  bottom:-10%;
  animation:subir 6s linear forwards;
  pointer-events:none;
}
@keyframes subir{
  to{transform:translateY(-120vh);opacity:0;}
}
</style>
</head>

<body>

<!-- ğŸµ mÃºsicas -->
<audio id="musicaInicio" loop>
  <source src="mi_corazon_encantado.mp3" type="audio/mpeg">
</audio>

<audio id="musicaFinal">
  <source src="pensando_en_ti.mp3" type="audio/mpeg">
</audio>

<div class="card">
  <div class="corazon">ğŸ’›</div>
  <h1>Para Nayeli</h1>

  <img src="michi.png" class="michi">

  <div id="texto"></div>

  <button onclick="iniciar()">â–¶ Leer mensaje</button>

  <div id="pregunta">
    <h2>Â¿Quieres ser mi novia? ğŸ’</h2>
    <button onclick="aceptar()">ğŸ’› SÃ­ ğŸ’›</button>
  </div>

  <button id="btnMusica" onclick="reproducirSoloMusica()" style="display:none;opacity:0;">
    ğŸ¶ Te la dedico mi amorcito
  </button>

  <div class="firma" id="firma">
    Con cariÃ±o,<br>tu niÃ±o Robin ğŸ’›
  </div>
</div>

<script>
const mensaje=[
"Me encariÃ±Ã© contigo mÃ¡s rÃ¡pido de lo que imaginÃ©,",
"porque llegaste cuando me sentÃ­a perdido.",
"Me hiciste sentir que valÃ­a algo,",
"y desde entonces te llevo en mi corazÃ³n."
];

let l=0,c=0,iniciado=false;

function iniciar(){
 if(iniciado)return;
 iniciado=true;

 const audio=document.getElementById("musicaInicio");
 audio.play().catch(()=>{});

 escribir();
}

function escribir(){
 if(l<mensaje.length){
  if(c<mensaje[l].length){
   texto.innerHTML+=mensaje[l].charAt(c);
   c++;
   setTimeout(escribir,60);
  }else{
   texto.innerHTML+="<br>";
   l++;c=0;
   setTimeout(escribir,400);
  }
 }else{
  document.getElementById("firma").style.opacity=1;
  document.getElementById("pregunta").style.display="block";
 }
}

function aceptar(){
 document.getElementById("texto").innerHTML="";
 document.getElementById("pregunta").style.display="none";
 document.getElementById("firma").style.opacity=0;

 document.body.classList.add("final");

 const btn=document.getElementById("btnMusica");
 btn.style.display="block";
 setTimeout(()=>btn.style.opacity=1,100);

 iniciarLluviaAmor();
}

function reproducirSoloMusica(){
 const fin=document.getElementById("musicaFinal");
 const ini=document.getElementById("musicaInicio");
 ini.pause();ini.currentTime=0;

 fin.volume=0;
 fin.play();

 let v=0;
 const fade=setInterval(()=>{
  if(v<1){v+=0.05;fin.volume=v;}
  else clearInterval(fade);
 },200);
}

function iniciarLluviaAmor(){
 setInterval(()=>{
  const d=document.createElement("div");
  d.className="amor";
  const msgs=["ğŸ’›","â¤ï¸","ğŸ’–","Te amo","Te amo Nayeli"];
  d.innerText=msgs[Math.floor(Math.random()*msgs.length)];
  d.style.left=Math.random()*100+"vw";
  d.style.fontSize=(Math.random()*20+15)+"px";
  document.body.appendChild(d);
  setTimeout(()=>d.remove(),6000);
 },400);
}

/* â­ estrellas */
setInterval(()=>{
 const e=document.createElement("div");
 e.className="estrella";
 e.innerText="âœ¨";
 e.style.left=Math.random()*100+"vw";
 e.style.fontSize=(Math.random()*10+10)+"px";
 document.body.appendChild(e);
 setTimeout(()=>e.remove(),6000);
},600);
</script>

</body>
</html>
