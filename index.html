<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Nayeli 游눝</title>

<style>
body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#ffe29f,#facc15);
  font-family:Arial,sans-serif;
  overflow:hidden;
}

/* TARJETA */
.card{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:white;
  padding:25px;
  border-radius:20px;
  width:85%;
  max-width:420px;
  text-align:center;
  box-shadow:0 15px 35px rgba(0,0,0,.2);
  z-index:2;
}

#texto{
  font-size:15px;
  color:#444;
  white-space:pre-line;
  margin-top:15px;
}

/* OVERLAY */
.pregunta{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:10;
}

.pregunta-card{
  background:white;
  padding:30px;
  border-radius:20px;
  text-align:center;
  width:80%;
  max-width:300px;
}

/* BOTONES */
button{
  padding:12px 25px;
  border:none;
  border-radius:25px;
  background:#facc15;
  font-size:18px;
  cursor:pointer;
}

.btn-si{
  animation:latido 1.5s infinite;
}

@keyframes latido{
  0%{transform:scale(1)}
  50%{transform:scale(1.15)}
  100%{transform:scale(1)}
}

/* CONTADOR */
#contador{
  font-size:55px;
  animation:temblar .25s infinite;
}

@keyframes temblar{
  0%{transform:translate(0)}
  25%{transform:translate(-4px,4px)}
  50%{transform:translate(4px,-4px)}
  75%{transform:translate(-4px,-4px)}
  100%{transform:translate(0)}
}

/* FLOTANTES */
.flotar{
  position:fixed;
  bottom:-30px;
  animation:subir 5s linear forwards;
  pointer-events:none;
}

@keyframes subir{
  to{ transform:translateY(-110vh); opacity:0; }
}

.temblar-texto{
  animation:temblar .3s infinite;
}

/* FINAL */
.final{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  color:white;
  font-size:1.6rem;
  font-weight:bold;
  padding:20px;
  z-index:5;
}

/* ANILLO */
.anillo{
  position:fixed;
  top:50%;
  left:50%;
  font-size:60px;
  animation:giro 3s linear infinite;
  z-index:6;
}

@keyframes giro{
  from{transform:translate(-50%,-50%) rotate(0deg)}
  to{transform:translate(-50%,-50%) rotate(360deg)}
}

/* FUEGOS */
.fuego{
  position:fixed;
  width:6px;
  height:6px;
  border-radius:50%;
  animation:explota 1s forwards;
}

@keyframes explota{
  to{
    transform:translate(var(--x),var(--y));
    opacity:0;
  }
}
</style>
</head>

<body>

<div class="card" id="card">
  <h2>游눝 Para Nayeli 游눝</h2>
  <img src="michi.png" width="90"><br>
  <div id="texto"></div>
</div>

<script>
const texto = document.getElementById("texto");
const card = document.getElementById("card");

const mensaje = `Me encari침칠 contigo tan r치pido
porque llegaste cuando me sent칤a vac칤o.

Me hiciste sentir importante,
me devolviste la sonrisa
y las ganas de seguir.

Gracias por existir.
Te amo con todo mi coraz칩n 游눘`;

let i=0;

document.body.addEventListener("click",escribir,{once:true});

function escribir(){
  if(i < mensaje.length){
    texto.innerHTML += mensaje[i++];
    setTimeout(escribir,40);
  }else{
    setTimeout(conteo,2000);
  }
}

/* CONTEO */
function conteo(){
  let s=10;
  const o=document.createElement("div");
  o.className="pregunta";
  o.innerHTML=`
    <div class="pregunta-card">
      <h2 id="contador">游눝 ${s}</h2>
      <p>Prep치rate...</p>
    </div>`;
  document.body.appendChild(o);

  const c=o.querySelector("#contador");
  const t=setInterval(()=>{
    s--;
    c.innerHTML="游눝 "+s;
    if(s<=0){
      clearInterval(t);
      o.remove();
      preguntar();
    }
  },1000);
}

/* PREGUNTA */
function preguntar(){
  const o=document.createElement("div");
  o.className="pregunta";
  o.innerHTML=`
    <div class="pregunta-card">
      <h2>游눐 쯈uieres ser mi novia?</h2>
      <button class="btn-si" onclick="aceptar()">S칤 游눘</button>
    </div>`;
  document.body.appendChild(o);
}

/* ACEPTAR */
function aceptar(){
  card.remove();
  document.querySelectorAll(".pregunta").forEach(p=>p.remove());

  const final=document.createElement("div");
  final.className="final";
  final.innerHTML=`
    Te amo mi ni침a linda 游눝<br><br>
    Gracias a ti mis d칤as se han vuelto muy alegres.<br>
    Todo esto es por ti y para ti 游눘`;
  document.body.appendChild(final);

  const anillo=document.createElement("div");
  anillo.className="anillo";
  anillo.innerHTML="游눐";
  document.body.appendChild(anillo);

  setInterval(crearFlotantes,250);
  lanzarFuegos();
}

/* FLOTANTES */
function crearFlotantes(){
  const e=document.createElement("div");
  e.className="flotar";
  const opciones=[
    "游눘",
    "游눝",
    "<span class='temblar-texto'>TE AMO</span>",
    "<span class='temblar-texto'>TE AMO NAYELI</span>",
    "<span class='temblar-texto'>PARA SIEMPRE 游눐</span>"
  ];
  e.innerHTML=opciones[Math.floor(Math.random()*opciones.length)];
  e.style.left=Math.random()*100+"vw";
  e.style.fontSize=14+Math.random()*26+"px";
  e.style.color="white";
  document.body.appendChild(e);
  setTimeout(()=>e.remove(),5000);
}

/* FUEGOS */
function lanzarFuegos(){
  for(let i=0;i<60;i++){
    const f=document.createElement("div");
    f.className="fuego";
    f.style.left="50%";
    f.style.top="50%";
    f.style.background=`hsl(${Math.random()*360},100%,50%)`;
    f.style.setProperty("--x",(Math.random()*600-300)+"px");
    f.style.setProperty("--y",(Math.random()*600-300)+"px");
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
}
</script>

</body>
</html>
